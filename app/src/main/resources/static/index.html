<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>goe-s</title>
    <link href="css/mapboxgl.css" rel="stylesheet">
    <link rel="stylesheet" href="css/elementUI.css">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/params.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="icon" href="./img/szu_icon.png" type="image/x-icon">

</head>
<body>

<div id="app">
    <div id="map"></div>
    <img src="./img/params/btn-popupOpen.png" alt="switch"
         @click="sideBarSwitch('params','paramSwitch','paramsIn', 'paramsOut', 'paramSwitchIn', 'paramSwitchOut')"
         id="paramSwitch" class="paramsSwitch paramSwitchIn">
    <div class="paramsIn" id="params">
        <div class="params"  v-if="switchStatus === 'DCPGS'">

            <h3 class="params_header">DCPGS</h3>

            <el-form :label-position="DCPGS.labelPosition" label-width="50px" :model="DCPGS" v-loading="mapLoading">
                <div class="param_adjuster" style="width: 100%">
                    <span class="item_label">cluster nums</span>
                    <div class="adjuster" @click="DCPGS.clusterNums = paramAdjust(DCPGS.clusterNums,false,DCPGS.maxClusterNums,0,1,0);updateClusterNums();" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="DCPGS.clusterNums" @change="updateClusterNums">
                    <div class="adjuster" @click="DCPGS.clusterNums = paramAdjust(DCPGS.clusterNums,true,DCPGS.maxClusterNums,0,1,0);updateClusterNums();">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <br><br>
                <!--            暂时弃用-->
                <!--            <el-slider-->
                <!--                    v-model="DCPGS.clusterNums"-->
                <!--                    :min="1" :max="DCPGS.maxClusterNums"-->
                <!--                    @change="updateClusterNums">-->
                <!--            </el-slider>-->
                <!--            <br><br>-->
                <span class="item_label" style="padding-left: 15px">dataset</span>
                <br>
                <div class="left_gap"></div>
                <el-radio v-model="DCPGS.dataset" label="gowalla" @change="loadDSPGS('',-1)">gowalla</el-radio>
                <el-radio v-model="DCPGS.dataset" label="brightkite" style="margin-bottom: 5%" @change="loadDSPGS('',-1)">brightkite</el-radio>
                <br>
                <span class="item_label" style="padding-left: 15px">params</span>
                <br>
                <div class="param_adjuster">
                    <span class="item_label">&epsilon;</span>
                    <div class="adjuster" @click="DCPGS.params.epsilon = paramAdjust(DCPGS.params.epsilon,false,1.0,0,0.1,2)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="DCPGS.params.epsilon">
                    <div class="adjuster" @click="DCPGS.params.epsilon = paramAdjust(DCPGS.params.epsilon,true,1.0,0,0.1,2)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <div class="param_adjuster">
                    <span class="item_label">&nbsp;&nbsp;&nbsp;&ensp;&ensp;&omega;</span>
                    <div class="adjuster" @click="DCPGS.params.omega = paramAdjust(DCPGS.params.omega,false,1.0,0,0.1,2)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="DCPGS.params.omega">
                    <div class="adjuster" @click="DCPGS.params.omega = paramAdjust(DCPGS.params.omega,true,1.0,0,0.1,2)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <br><br>
                <div class="param_adjuster">
                    <span class="item_label">&tau;</span>
                    <div class="adjuster" @click="DCPGS.params.tau = paramAdjust(DCPGS.params.tau,false,1.0,0,0.1,2)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="DCPGS.params.tau">
                    <div class="adjuster" @click="DCPGS.params.tau = paramAdjust(DCPGS.params.tau,true,1.0,0,0.1,2)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <div class="param_adjuster">
                    <span class="item_label">maxD</span>
                    <div class="adjuster" @click="DCPGS.params.maxD = paramAdjust(DCPGS.params.maxD,false,300,10,10,0)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="DCPGS.params.maxD">
                    <div class="adjuster" @click="DCPGS.params.maxD = paramAdjust(DCPGS.params.maxD,true,300,10,10,0)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <br><br>
                <div class="params_confirm">
                    <div class="confirm_button" @click="paramsSwitch('DCPGS_UPDATE')">
                        <span class="confirm_label">confirm</span>
                    </div>
                </div>
                <!--            <div style="text-align: center">-->
                <!--                <button class="confirm_button" @click="paramsSwitch('DCPGS_UPDATE')">confirm</button>-->
                <!--&lt;!&ndash;                <el-button round @click="paramsSwitch('DCPGS_UPDATE')" :loading="DCPGS.loading" >confirm</el-button>&ndash;&gt;-->
                <!--            </div>-->
            </el-form>
        </div>

        <div v-loading.lock="KSTC.loading"
             class="params" v-if="switchStatus === 'KSTC'" style="height: 450px; ">
            <h3 class="params_header">k-stc</h3>
            <el-form :label-position="KSTC.labelPosition" label-width="50px" :model="KSTC">

                <el-form-item label="word">
                    <el-input v-model="KSTC.query.keywords" placeholder="以,分隔"></el-input>
                </el-form-item>

                <div class="param_adjuster" style="width: 150px">
                    <span class="item_label">epsilon</span>
                    <div class="adjuster" @click="KSTC.query.epsilon = paramAdjust(KSTC.query.epsilon,false,1.0,0,0.1,1)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="KSTC.query.epsilon">
                    <div class="adjuster" @click="KSTC.query.epsilon = paramAdjust(KSTC.query.epsilon,true,1.0,0,0.1,1)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <br><br>
                <div class="param_adjuster" style="width: 150px">
                    <span class="item_label">k</span>
                    <div class="adjuster" @click="KSTC.query.k = paramAdjust(KSTC.query.k,false,20,1,1,0)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="KSTC.query.k">
                    <div class="adjuster" @click="KSTC.query.k = paramAdjust(KSTC.query.k,true,20,1,1,0)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <br><br>
                <div class="param_adjuster" style="width: 150px">
                    <span class="item_label">minPts</span>
                    <div class="adjuster" @click="KSTC.query.minPts = paramAdjust(KSTC.query.minPts,false,20,2,1,0)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="KSTC.query.minPts">
                    <div class="adjuster" @click="KSTC.query.minPts = paramAdjust(KSTC.query.minPts,true,20,2,1,0)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <br><br>
                <div class="param_adjuster" style="width: 150px">
                    <span class="item_label">maxDist</span>
                    <div class="adjuster" @click="KSTC.query.maxDist = paramAdjust(KSTC.query.maxDist,false,9999999999,-1,1,0)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="KSTC.query.maxDist">
                    <div class="adjuster" @click="KSTC.query.maxDist = paramAdjust(KSTC.query.maxDist,true,9999999999,-1,1,0)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <br><br>
                <div class="param_adjuster" style="width: 150px">
                    <span class="item_label">lon</span>
                    <div class="adjuster" @click="KSTC.query.location.longitude = paramAdjust(KSTC.query.location.longitude,false,180,-180,0.1,2)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="KSTC.query.location.longitude">
                    <div class="adjuster" @click="KSTC.query.location.longitude = paramAdjust(KSTC.query.location.longitude,true,180,-180,0.1,2)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <br><br>
                <div class="param_adjuster" style="width: 150px">
                    <span class="item_label">lat</span>
                    <div class="adjuster" @click="KSTC.query.location.latitude = paramAdjust(KSTC.query.location.latitude,false,90,-90,0.1,2)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="KSTC.query.location.latitude">
                    <div class="adjuster" @click="KSTC.query.location.latitude = paramAdjust(KSTC.query.location.latitude,true,90,-90,0.1,2)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <div class="params_confirm">
                    <div class="confirm_button" @click="paramsSwitch('KSTC_UPDATE')">
                        <span class="confirm_label">confirm</span>
                    </div>
                </div>
            </el-form>

        </div>

        <div class="params" v-if="switchStatus === 'spatial_skylines'">
            <h3 class="params_header">spatial_skylines</h3>
            <el-form :label-position="spatial_skylines.labelPosition" label-width="130px" :model="spatial_skylines">
                <div class="param_adjuster" style="width: 150px">
                    <span class="item_label">params_1</span>
                    <div class="adjuster" @click="spatial_skylines.query.params_1 = paramAdjust(spatial_skylines.query.params_1,false,1.0,0,0.1,2)" style="margin-left: 5px;">
                        <div class="icon-minus"></div>
                    </div>
                    <input class="param_input" type="text" v-model="spatial_skylines.query.params_1">
                    <div class="adjuster" @click="spatial_skylines.query.params_1 = paramAdjust(spatial_skylines.query.params_1,true,1.0,0,0.1,2)">
                        <div class="icon-plus"></div>
                    </div>
                </div>
                <div class="params_confirm">
                    <div class="confirm_button" @click="paramsSwitch('spatial_skylines_UPDATE')">
                        <span class="confirm_label">confirm</span>
                    </div>
                </div>
            </el-form>
        </div>
    </div>

    <img src="./img/sidebar/btn-fold.png" alt="switch" @click="sideBarSwitch('sideBar','sideBarSwitch','sideIn','sideOut','switchIn','switchOut', null)" id="sideBarSwitch" class="switchOut" style="cursor: pointer">
    <!-- 侧边导航栏-->
    <db-sidebar></db-sidebar>
    <!--顶部导航栏-->
    <db-header></db-header>
</div>
</body>
<script src="js/kdv/kdvCpp.js"></script>
<script src="js/environment/d3.js"></script>
<script src="js/environment/vue.js"></script>
<script src="js/environment/elementUI.js"></script>
<script src="js/environment/mapboxgl.js"></script>
<script src="js/environment/axios.js"></script>
<script type="module" src="js/app.js"></script>
<script src="js/template/header.js"></script>
<script src="js/template/sidebar.js"></script>
</html>
